
Eventra uses a hybrid, rule-based recommendation system implemented entirely
in TypeScript. The system does not use machine learning, model training,
Python, or external AI libraries. All recommendations are generated using
deterministic backend logic and stored for performance and stability.

DESIGN GOALS
- Keep the system simple and explainable
- Avoid overengineering and real-time computation
- Ensure compatibility with the already deployed application
- Allow future extension to ML-based systems if needed

DATA MODEL OVERVIEW

EVENTS
Each event is stored with an optional baseline score and total view count.
The baseline score represents the initial quality or popularity potential
of an event and is computed after event creation using a helper algorithm.
Total views are calculated from unique user clicks.

Fields:
- id
- title
- category
- tags
- location
- date
- organizerId
- eventScore (optional)
- totalViews

EVENT METRICS
This table stores user interactions with events and acts as the primary
data source for collaborative-based filtering.

Fields:
- id
- userId
- eventId
- action (CLICK or JOIN)
- createdAt

INTERACTION RULES
- A CLICK is counted only once per user per event
- The first CLICK updates:
  - Event total view count
  - User average score
- Repeated clicks on the same event are ignored
- JOIN actions are always recorded
- JOIN actions are used only for collaborative-based filtering
- JOIN actions do not update the user average score

USER AVERAGE SCORE
Each user maintains an optional average score calculated from the baseline
scores of events they clicked. The score is updated only on the first click
of a unique event and represents the general quality of events the user
tends to explore. This score is used only as a supporting signal and not
as a primary ranking factor.

RECOMMENDED EVENTS
Final recommendations are stored in a dedicated table to avoid recomputing
results on every request.

Fields:
- id
- userId
- eventId
- finalScore
- generatedAt

RECOMMENDATION LOGIC

CONTENT-BASED FILTERING
Content-based recommendations are generated using:
- Event category and tags
- Event baseline score
- Comparison with user average score

This ensures users are recommended events similar in nature to those they
have previously explored.

COLLABORATIVE-BASED FILTERING
Collaborative recommendations are generated by analyzing the Event Metrics
table to identify users with similar interactions. Events clicked or joined
by similar users are scored and ranked based on collective engagement.

HYBRID RECOMMENDATION
Final recommendation scores are produced by combining both approaches.
A weighted merge is applied to balance personalization and community trends.

FINAL SCORING
- Events are ranked using the combined score
- Top 5 to 10 events are selected per user
- Results are sent to the frontend from stored recommendations

UPDATE STRATEGY
- Recommendations are not generated in real time
- A background process recalculates recommendations every 3 days
- Precomputed results improve performance and consistency

FINAL VERDICT
This system is a rule-based hybrid recommender designed to deliver meaningful
event recommendations without machine learning. It is deterministic,
performance-friendly, safe for production, and suitable for the current
scale of Eventra while remaining extensible for future improvements.
EOF
